<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>jQuery UI Spinner - Time</title>
	<link rel="stylesheet" href="themes/base/jquery.ui.all.css">
	<script src="jquery-1.9.1.js"></script>
	<script src="external/jquery.mousewheel.js"></script>
	<script src="external/globalize.js"></script>
	<script src="ui/jquery.ui.core.js"></script>
	<script src="ui/jquery.ui.widget.js"></script>
	<script src="ui/jquery.ui.button.js"></script>
	<script src="ui/jquery.ui.spinner.js"></script>
	<style>
	html {
		font-size: 1.5em;
	}
	input {
		width: 6em;
	}
	.backstage {
		font-size: 0.8em;
		color: #aaa;
	}
	.gettime {
		color: white;
	}
	</style>
	<script>
	var backstage, gettime;

	$.widget( "ui.timespinner", $.ui.spinner, {
		options: {
			// seconds
			step: 60 * 1000,
			// hours
			page: 60
		},

		_parse: function( value ) {
			if ( typeof value === "string" ) {
				// already a timestamp
				if ( Number( value ) == value ) {
					return Number( value );
				}
				return +Globalize.parseDate( value );
			}
			return value;
		},

		_format: function( value ) {
			var formattedValue = Globalize.format( new Date( value ), "t" );
			gettime.html( value );
			backstage.html(
				"Globalize.format( " + value + " ); // \"" + formattedValue + "\"<br>" +
				"Globalize.parseDate( \"" + formattedValue + "\" ); // " + value
			);
			return formattedValue;
		}
	});

	$(function() {
		gettime = $( ".gettime" );
		backstage = $( ".backstage" );
		$( "#spinner" ).timespinner();
	});
	</script>
</head>
<body>

<p class="gettime"></p>

<p>
	<input id="spinner" name="spinner" value="08:30 PM">
</p>

<p class="backstage"></p>

</body>
</html>
